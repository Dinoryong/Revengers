# 프로세스 개념
우리가 운영체제를 논의 할 때, 한가지 장애는 모든 CPU활동들을 어떻게 부를 것인가 하는 의문이 존재한다.
일괄 처리 시스템은 잡(job)을 실행하는 반면에, 시분할 시스템은 사용자 프로그램 또는 테스크 (Task)들을 가진다.

> 일괄처리 시스템은 무엇인가? </br>
> 초기의 컴퓨터 시스템에서 사용된 형태로, 일정량 또는 일정 기간 동안 데이터를 모아서 한꺼번에 처리하는 방식 </br> 출처: https://lee-mandu.tistory.com/466 [개발/일상_Mr.lee]

> 시분할 시스템이란 무엇인가? </br>
> 시분할 시스템 </br>  → 여러 명의 사용자가 사용하는 시스템에서 컴퓨터가 사용자들의 프로그램을 번갈아가며 처리해 줌으로써 각 사용자에게 독립된 컴퓨터를 사용하는 느낌을 주는것으로, 라울드 로빈 방식이라고도 한다.</br>   - 여러 사용자가 각자의 단말장치를 통하여 동시에 운영체제와 대화하면서 각자의 프로그램 실행 </br> - 하나의 CPU는 같은 시점에서 여러 개의 작업을 동시에 수행할 수 없기 때문에 CPU의 전체 사용 시간을 작은 작업 시간량으로 나누어서 그 시간량 동안만 번갈아가면서 CPU를 할당하여 각 작업을 처리 </br> - 효율은 좋아지나 개인별 사용자 입장에서는 반응 속도가 느릴 수 있음 </br> 출처: https://lee-mandu.tistory.com/466 [개발/일상_Mr.lee]

우리는 이러한 것들을 전부 프로세스 라고 부른다.

### 프로세스
프로세스는 실행중인 프로그램을 말한다. 

프로세스가 포함하는 것들을 알아보자.
- 프로그램 카운터(PC)
- 처리기 레지스터
- 스택(STACK) (함수의 매개변수, 복귀주소, 로컬 변수 같은 임시적인 자료를 보관함)
- 데이터 영역
- 힙(HEAP)

프로그램 그 자체는 프로세스가 아니다.
프로그램은 명령어 리스트를 내용으로 가진 디스크에 저장된 파일과 같은 수동적 존재다.
이와는 다르게 프로세스는 실행할 명령어를 지정하는 프로그램 카운터와 관련 자원의 집합을 가진 능동적인 존재다.

실행 파일이 메모리에 적재될 떄 프로그램은 비로소 프로세스가 되는 것이다.

### 프로세스 상태(Process State)
- new : 프로세스가 생성
- running : 명령 실행
- waiting : 프로세스가 어떤 사건 일어나기를 대기
- ready : 프로세스 처리기에 할당되기를 대기
- terminated : 프로세스 실행 종료

### 프로세스 제어 블록(Process Control Block)
각 프로세스들은 운영체제에서는 프로세스 제어 블록(PCB)에 의해 표현된다.
여러가지 정보들을 포함하는데 대표적인 요소들을 알아보자.
- 프로세스 상태 : 상태는 new, ready, running, waiting, halted 등
- 프로그램 카운터 : 프로세스가 다음에 실행할 명령어의 주소
- CPU 레지스터 : 누산기(accumulator), 인덱스 레지스터, 스택 레지스터, 범용 레지스터, 상태 코드 정보들이 포함된다.
- CPU-스케줄링 정보 : 프로세스의 우선순위, 스케쥴 큐에 대한 포인터와 다른 스케줄 매개변수 포함
- 메모리 관리 정보 : 운영체제에 의해 사용되는 메모리 시스템에 따라 Base Register, Limit Register값, 운영체제가 사용하는 메모리 시스템에 따라 테이블 또는 세그먼트 테이블 정보를 포함한다.
- Accounting 정보 : CPU 사용시간, 시간 제한, 계정 번호, 잡 또는 프로세스 번호 포함
- 입출력 상태 정보 : 프로세스에 할당된 입출력 장치들과 열린 파일 목록

### 프로세스 스케줄링(Process Scheduling)
다중 프로그래밍의 목적은 CPU 이용을 최대화 하기 위해 항상 어떤 프로세스가 실행 되도록 하는 것에 있다.
시분할의 목적은 각 프로그램이 실행 되는 동안 사용자가 상호작용할수 있도록 프로세스들 사이에서 CPU를 빈번하게 교체하는 것이다.
이 목적을 달성하기 위해서 프로세스 스케줄러는 CPU에서 실행 가능한 여러 프로세스들 중에서 하나의 프로세스를 선택한다.

### 스케줄링 큐(Scheduling Queue)
프로세스가 시스템에 들어오게 되면, 이것들은 job Queue에 놓여지게 된다.
Job Queue는 시스템 안의 모든 프로세스들로 구성이 된다.
주 메모리(RAM)에 존재하며, 준비 완료 상태에서 실행을 대기하는 프로세스들은(ready Queue)에 놓이게 된다.
이 큐는 일반적으로 연결 리스트로 지정된다.

프로세스가 CPU를 할당받으면, 어느정도 실행을 하고 결국에는 인터럽트 되거나, 입출력 요청이 완료되는 것 같은 특별안 Event의 발생을 기다리게 된다.

### 스케줄러(Scheduler)
프로세스는 일생동안 다양한 스케줄링 큐들 사이를 이주한다.
운영체제는 어떠한 방식으로든 스케줄링 목적을 위해 프로세스들을 큐에서 반드시 선택해야 한다.

일괄 처리 시스템에서는 즉시 실행될 수 있는 것보다 더 많은 프로세스들이 종종 제출된다.
이러한 프로세스들은 대용량 메모리에 저장되어 나중에 실행 될 때 까지그곳에 유지된다.
장기 스케줄러(Job Scheduler)는 이 풀에서 프로세스들을 선택하여 실행 하기 위해 메모리에 적재한다.
단시 크제룰러(CPU스케줄러)는 실행 준비가 완료 되어있는 프로세스들중에서 선택하여 이들중 하나에게 CPU를 할당한다.


